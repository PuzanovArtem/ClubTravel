class l{constructor({selector:t,initCount:o=0,step:n=1,displaySelector:s=null,onUpdate:r=null}){const c=document.querySelector(t);c&&(this.count=o,this.step=n,this.onUpdate=r,this.refs={buttonDecrement:c.querySelector('button[data-action="decrement"]'),buttonIncrement:c.querySelector('button[data-action="increment"]'),spanCount:c.querySelector("span"),displayElement:s?document.querySelector(s):null},this.addListener(),this.updateCount())}updateCount(){this.refs.spanCount.textContent=this.count,this.refs.displayElement&&(this.refs.displayElement.textContent=this.count),this.onUpdate&&this.onUpdate()}addListener(){this.refs.buttonDecrement.addEventListener("click",this.onDecrement.bind(this)),this.refs.buttonIncrement.addEventListener("click",this.onIncrement.bind(this))}onDecrement(){this.count>0&&(this.count-=this.step,this.updateCount())}onIncrement(){this.count+=this.step,this.updateCount()}}function a(){const e=document.querySelectorAll('[data-counter-type="child"] span');let t=0;e.forEach(o=>{t+=parseInt(o.textContent,10)}),document.getElementById("kids-display").textContent=t}function u(){const e=document.querySelectorAll('[data-counter-type="child-form"] span');let t=0;e.forEach(o=>{t+=parseInt(o.textContent,10)}),document.getElementById("kids-display-form").textContent=t}function i(e){e.classList.toggle("dropdown--open");const t=e.querySelector(".dropdown__list");t&&(e.classList.contains("dropdown--open")?t.classList.add("active"):t.classList.remove("active"))}function d(e,t){const o=e.querySelector(".dropdown__current"),n=e.querySelector(".dropdown__list");o&&(o.textContent=t),e.classList.remove("dropdown--open"),n&&n.classList.remove("active")}function p(){const e=document.querySelectorAll(".dropdown__row"),t=document.querySelectorAll(".dropdown__list .dropdown__item"),o=document.querySelectorAll(".dropdown");e.forEach(n=>{n.addEventListener("click",()=>{i(n.parentElement)})}),t.forEach(n=>{n.addEventListener("click",()=>{const s=n.closest(".dropdown");d(s,n.textContent)})}),window.addEventListener("click",n=>{o.forEach(s=>{if(!s.contains(n.target)){s.classList.remove("dropdown--open");const r=s.querySelector(".dropdown__list");r&&r.classList.remove("active")}})})}export{l as C,u as a,p as i,a as u};
