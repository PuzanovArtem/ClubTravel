import"./modulepreload-polyfill-B5Qt9EMX.js";import{i as l,C as s,a as u}from"./dropdown-BcidGZfk.js";import{h as f}from"./header-CDcaaDmM.js";import{m}from"./manage-selects-CTHsAexo.js";import{t as p}from"./validator-T4HusQx-.js";class v{constructor(){this.food=document.querySelector(".food"),this.foodMain=document.querySelector(".food__list"),this.allLi=this.food.querySelectorAll("li"),this.currentSelect=document.querySelector(".food__btn-info"),this.errorFood=document.querySelector(".form__error-food"),this.init()}init(){this.setupSelect(),this.setupOpen(),this.setupObserver()}setupSelect(){this.allLi.forEach(t=>{t.addEventListener("click",()=>{this.currentSelect.textContent=t.textContent,this.errorFood.classList.remove("form__error-food_active"),document.dispatchEvent(new Event("selectFood"))})})}setupOpen(){this.food.addEventListener("click",()=>{this.food.classList.toggle("food_active")}),document.addEventListener("click",t=>{this.food.contains(t.target)||this.food.classList.remove("food_active")})}setupObserver(){const t=this.foodMain.offsetHeight,n=c=>{c.forEach(r=>{window.innerHeight>700&&r.boundingClientRect.top>0&&(r.isIntersecting?(this.food.classList.add("food_bottom"),this.food.classList.remove("food_top")):(this.food.classList.add("food_top"),this.food.classList.remove("food_bottom")))})},o=new IntersectionObserver(n,{root:null,rootMargin:`0px 0px -${t+30}px 0px`,threshold:1});document.querySelectorAll(".food__btn").forEach(c=>{o.observe(c)})}}function h(){const e=document.querySelectorAll(".form__stars-one-star");e.forEach(t=>{t.addEventListener("click",()=>{const n=Number(t.getAttribute("data-num"));_(e,n);const o=new CustomEvent("selectStars",{detail:{stars:t.getAttribute("data-num")}});document.dispatchEvent(o)})})}function _(e,t){e.forEach((n,o)=>{n.classList.toggle("form__stars-one-star_active",o<t)})}function y(){const e=document.querySelectorAll(".form__tab"),t=document.querySelectorAll(".form__state");function n(){e.forEach(o=>o.classList.remove("active")),t.forEach(o=>o.classList.remove("active"))}e.forEach((o,c)=>{o.addEventListener("click",()=>{n(),o.classList.add("active"),t[c].classList.add("active")})})}function L(e,t){t.addEventListener("click",function(){e.classList.toggle("drop-country_active")}),document.addEventListener("click",function(n){!e.contains(n.target)&&!t.contains(n.target)&&e.classList.remove("drop-country_active")})}function E(e,t,n,o){e.forEach(function(c){const r=c.querySelector(".accordion__btn"),a=c.querySelectorAll("li"),d=c.querySelector(".accordion__country").textContent;r.addEventListener("click",function(){c.classList.toggle("accordion_active")}),a.forEach(function(i){i.addEventListener("click",function(){t.textContent=d,n.textContent=i.textContent,o.classList.remove("drop-country_active"),document.dispatchEvent(new Event("selectTour"))})})})}function S(){const e=document.querySelector(".drop-country"),t=document.querySelector(".drop-country__county"),n=document.querySelector(".drop-country__tour"),o=document.querySelector(".drop-country__btn"),c=document.querySelectorAll(".accordion");L(e,o),E(c,t,n,e)}document.addEventListener("DOMContentLoaded",()=>{f(),S(),m(),l(),y(),h(),p(),new v,new s({selector:"#counter-10",initCount:0,step:1}),new s({selector:"#counter-3",initCount:0,step:1,displaySelector:"#adults-display-form"});for(let e=4;e<=9;e++)new s({selector:`#counter-${e}`,initCount:0,step:1,displaySelector:"#kids-display-form",onUpdate:u,dataCounterType:"child"})});
